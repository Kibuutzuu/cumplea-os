<!DOCTYPE html>
<html lang="es">
<head>


  <meta charset="UTF-8">
  <title>¬°Feliz Cumplea√±os!</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    body {
      cursor: url('https://cur.cursors-4u.net/anime/ani-6/ani546.cur'), auto;
    }

    #quotes-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      overflow: visible;
      z-index: 20;
    }

    .floating-quote {
      position: absolute;
      color: #ff2c2c;
      font-family: 'Special Elite', monospace;
      font-size: 1.2em;
      opacity: 0;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
      animation: floatInOut 4s forwards;
    }

    @keyframes floatInOut {
      0%   { opacity: 0; transform: translateY(10px); }
      20%  { opacity: 1; transform: translateY(0); }
      80%  { opacity: 1; transform: translateY(-30px); }
      100% { opacity: 0; transform: translateY(-40px); }
    }




    body {
      background-color: rgb(40, 37, 37);
      color: white;
      font-family: monospace;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    .pixel-grid {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='3' height='3'><rect width='1' height='1' fill='lime'/></svg>");
      background-repeat: repeat;
      background-size: 3px 3px;
      opacity: 0.05;
      z-index: 13;
      pointer-events: none;
    }



    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0) 0px,
        rgba(0, 0, 0, 0) 2px,
        rgba(0, 0, 0, 0.05) 4px
      );
      pointer-events: none;
      z-index: 10;
    }

    #crt-wrapper::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, transparent 0%, rgba(0, 0, 0, 0.2) 100%);
      animation: flicker 0.15s infinite;
      pointer-events: none;
      z-index: 11;
    }

    @keyframes flicker {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        opacity: 1;
      }
      20%, 22%, 24%, 55% {
        opacity: 0.95;
      }
    }


    #container {
      position: relative;
      display: inline-block;
    }

    #cake {
      width: 300px;
    }

    #vela {
      width: 20px;
      height: 80px;
      background: pink;
      position: absolute;
      top: 25px;
      left: 140px;
      cursor: grab;
    }

    #flama {
      width: 25px;
      height: 40px;
      background: rgb(255, 255, 0);
      border-radius: 50%;
      position: absolute;
      top: -30px;
      left: -2.5px;
      animation: flicker 0.3s infinite;
    }

    @keyframes flicker {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }

    #estado {
      margin-top: 20px;
      font-size: 14px;
    }


    .custom-image {
        position: absolute;
        z-index: 10;
        cursor: move;
    }

    .custom-image img {
        width: 100%;
        height: auto;
        display: block;
        pointer-events: none;
    }
    @keyframes scan {
      0%   { top: -100px; opacity: 0.03; }
      10%  { opacity: 0.06; }
      50%  { opacity: 0.02; }
      100% { top: 100%; opacity: 0.01; }
    }


  </style>
</head>
<body>
  

<div id="crt-wrapper"></div>
  <div class="pixel-grid"></div>


  <script>
    const music = document.getElementByld("opening");
    music.volume = 0.7;
  </script>
  <h1>¬°Feliz cumplea√±os charlotte! <3</h1>
  <p>Pide un deseo y sopla la velitaaaa C:</p>
    <div class="custom-image" style="top: 250px; left: 200px; width: 80px; height: auto;">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/ryukk.jpg" alt="foto" />
    </div>

    <div class="custom-image" style="top: 160px; left: 250px; width: 100px; height: auto;">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/apple-deathnote.gif" alt="foto" />
    </div>

    <div class="custom-image" style="top: 160px; left: 130px; width: 100px; height: auto; transform: scaleX(-1)">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/apple-deathnote.gif" alt="foto" />
    </div>

    <div class="custom-image" style="top: 110px; left: 1100px; width: 400px; height: auto;">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/misa.gif" alt="foto" />
    </div>

    <div class="custom-image" style="top: 450px; left: 450px; width: 700px; height: auto;">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/ryuk.gif" alt="foto" />
    </div>

    <div class="custom-image" style="top: 150px; left: 850px; width: 250px; height: auto; transform: scaleX(-1)">
    <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/doodle.gif" alt="foto" />
    </div>

  <div id="container">
    <img id="torta" src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/torta.png" alt="torta">


    <div id="vela">
      <div id="flama"></div>
    </div>
  </div>

  <div id="estado">Sopla, sopla! Como si fueran burbujitas ü´ß</div>

  <script>
    let flama = document.getElementById("flama");
    let estado = document.getElementById("estado");

    navigator.mediaDevices.getUserMedia({ audio: true, video: false }).then(stream => {
      let context = new (window.AudioContext || window.webkitAudioContext)();
      let source = context.createMediaStreamSource(stream);
      let analyser = context.createAnalyser();
      source.connect(analyser);
      analyser.fftSize = 256;

      let dataArray = new Uint8Array(analyser.frequencyBinCount);

      function detectBlow() {
        analyser.getByteFrequencyData(dataArray);
        let volume = dataArray.reduce((a, b) => a + b) / dataArray.length;

        if (volume > 40) {
          flama.style.display = "none";
          estado.textContent = "Velita apagada, yeiii tqm que cumplas muchisimos a√±os mas üéâ";
        } else {
          requestAnimationFrame(detectBlow);
        }
      }

      detectBlow();
    }).catch(err => {
      estado.textContent = "Activa el micro :C";
    });

    const vela = document.getElementById('vela');
    let isDragging = false;

    vela.addEventListener('mousedown', (e) => {
      isDragging = true;
      vela.style.cursor = 'grabbing';
    });

    document.addEventListener('mouseup', () => {
      isDragging = false;
      vela.style.cursor = 'grab';
    });

    document.addEventListener('mousemove', (e) => {
      if (isDragging) {
        const containerRect = document.getElementById('container').getBoundingClientRect();
        let x = e.clientX - containerRect.left - vela.offsetWidth / 2;
        let y = e.clientY - containerRect.top - vela.offsetHeight / 2;
        vela.style.left = `${x}px`;
        vela.style.top = `${y}px`;
      }
    });
  </script>




  
  <div class="mini-player">
  <img src="https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/manzana.png" alt="Portada" class="cover">
  <div class="info">
    <p class="title">Besto opening </p>
    <button id="playBtn">‚ñ∂</button>
  </div>
  <audio id="opening" loop>
    <source src = "https://raw.githubusercontent.com/Kibuutzuu/Fur-Charlotte/main/resource/death.mp3" type = "audio/mp3">
  </audio>
  </div>
  
<style>
  .mini-player {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 140px;
    padding: 10px;
    border-radius: 12px;
    background: #1e1e1e;
    color: white;
    font-family: sans-serif;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    position: fixed;
    bottom: 20px;
    right: 20px;
  }

  .cover {
    width: 120px;
    height: 120px;
    border-radius: 8px;
    object-fit: cover;
    margin-bottom: 8px;
  }

  .info {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .title {
    font-size: 13px;
    margin: 0 0 6px;
    text-align: center;
    font-weight: bold;
  }

  #playBtn {
    background: #1db954;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 14px;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  #playBtn:hover {
    background: #17a74a;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const music = document.getElementById("opening");
    const btn = document.getElementById("playBtn");

    music.volume = 0.6;

    btn.textContent = music.paused ? "‚ñ∂" : "‚è∏";

    btn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        btn.textContent = "‚è∏";
      } else {
        music.pause();
        btn.textContent = "‚ñ∂";
      }
    });
  });
</script>

<script>
  const scanline = document.createElement("div");
  scanline.style.position = "absolute";
  scanline.style.top = "-100px";
  scanline.style.left = "0";
  scanline.style.width = "100%";
  scanline.style.height = "100px";
  scanline.style.background = "rgba(255, 255, 255, 0.03)";
  scanline.style.zIndex = "12";
  scanline.style.pointerEvents = "none";
  scanline.style.animation = "scan 5s linear infinite";

  const wrapper = document.getElementById("crt-wrapper");
  wrapper.appendChild(scanline);

  const style = document.createElement("style");
  style.textContent = `
    @keyframes scan {
      0% { top: -100px; }
      100% { top: 100%; }
    }
  `;
  document.head.appendChild(style);
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const quotes = [
        "Al dios de la muerte le gustan las manzanas.",
        "Al dios de la muerte le gustan las manzanas.",
        "Al dios de la muerte le gustan las manzanas.",
        "Al dios de la muerte le gustan las manzanas.",
        "Al dios de la muerte le gustan las manzanas.",
        "Soy Kira.",
        "Soy Kira.",
        "Si mataras a todos los asesinos del mundo, el unico asesino que quedar√≠a... ser√≠as t√∫.",
        "¬°Te quiero m√°s que ninguna otra persona! Siempre te estoy vigilando. Te quiero. ¬°Quiero protegerte!",
        "¬øQu√© le pasa? Es un humano... pero da miedo.",
        "A partir de este momento te mostrar√© la creaci√≥n del nuevo mundo.",
        "¬°El mundo est√° podrido, y la gente podrida merece morir!",
        "Solemos aferrarnos a gente que solo nos hace da√±o.",
        "No puedes ganar s√≠ solo est√°s a la defensiva, para ganar ¬°Hay que atacar!.",
        "Una cosa es segura, L es real, yo existo, ahora trata de matarme.",
        "No te creas tanto.",
        "Y que la Justicia prevalezca ante todo....",
        "No importa que tan capacitado est√©s, tu solo no podr√°s cambiar el mundo.",
        "Crearemos un mundo nuevo juntos, ser√° un lugar sin crimen d√≥nde s√≥lo vivan personas honestas.",
        "Como castigo por desafiar al dios del nuevo mundo, morir√°s...",
        "¬°Lo que dar√≠a por una manzana!",
        "De ahora en adelante, voy a mostrarte la reencarnaci√≥n de un nuevo mundo, Ryuk.",
        "Todos mis obst√°culos fueron removidos. Ahora soy el dios del nuevo mundo.",
        "Una persona puede acortar su vida usando la Death Note.",
        "Death Note... si esto es real... Debo probarlo una vez m√°s.",
        "Escribe sus nombres y morir√°n.",
        "Si gano, soy la Justicia, si pierdo, soy un criminal."
    ];


    const container = document.getElementById("quotes-container");

    function randomBetween(min, max) {
      return Math.random() * (max - min) + min;
    }

    function spawnQuote() {
      if (!container) return;

      const quoteText = quotes[Math.floor(Math.random() * quotes.length)];
      const quoteEl = document.createElement("div");
      quoteEl.classList.add("floating-quote");
      quoteEl.textContent = quoteText;

      const maxX = container.clientWidth - 200;
      const maxY = container.clientHeight - 50;

      quoteEl.style.left = randomBetween(0, maxX) + "px";
      quoteEl.style.top = randomBetween(0, maxY) + "px";

      container.appendChild(quoteEl);

      setTimeout(() => {
        container.removeChild(quoteEl);
      }, 4000);
    }

    function startSpawning() {
      spawnQuote();
      const nextTime = randomBetween(500, 2000);
      setTimeout(startSpawning, nextTime);
    }

    startSpawning();
  });
</script>


</div>

<div id="quotes-container"></div>

</body>
</html>
